# Test3 策略準確率比較報告

執行時間: 2026-02-11

## 比較摘要

| Dataset | 指標 | 之前結果 (2026-02-10) | 本次結果 (2026-02-11) | 差異 |
|---------|------|----------------------|----------------------|------|
| **Car_Evaluation** | Training Acc | 0.8517 | 0.8517 | **✅ 完全一致** |
| | Test Acc | 0.8439 | 0.8439 | **✅ 完全一致** |
| **New_Thyroid** | Training Acc | 0.9651 | 0.9651 | **✅ 完全一致** |
| | Test Acc | 0.9767 | 0.9767 | **✅ 完全一致** |

---

## Car_Evaluation 詳細比較

### 整體準確率

| 指標 | 之前 | 本次 | 差異 |
|------|------|------|------|
| Training Accuracy | 0.8517 | 0.8517 | 0.0000 |
| Test Accuracy | **0.8439** | **0.8439** | 0.0000 |

### 每類別測試準確率

| Class | 本次結果 |
|-------|----------|
| Class 1 | 0.8223 (199/242 正確) |
| Class 2 | 0.9121 (83/91 正確) |
| Class 3 | 0.7692 (10/13 正確) |

### 優化狀態

| 分類器 | 之前 MIP Gap | 本次 MIP Gap | 狀態 |
|--------|-------------|-------------|------|
| H1 (Class 3 vs {1,2}) | 12.57% | 12.24% | ⚠️ 未收斂但穩定 |
| H2 (Class {2,3} vs 1) | 57.89% | 57.59% | ⚠️ 未收斂但穩定 |

**重要觀察**:
- 儘管 MIP Gap 較高，但預測準確率**完全相同**
- 這表明優化器找到的次優解在預測性能上是一致的
- MIP Gap 的細微差異（<0.5%）是正常的隨機性

---

## New_Thyroid 詳細比較

### 整體準確率

| 指標 | 之前 | 本次 | 差異 |
|------|------|------|------|
| Training Accuracy | 0.9651 | 0.9651 | 0.0000 |
| Test Accuracy | **0.9767** | **0.9767** | 0.0000 |

### 每類別測試準確率

| Class | 本次結果 |
|-------|----------|
| Class 1 | 0.9667 (29/30 正確) |
| Class 2 | 1.0000 (7/7 正確) |
| Class 3 | 1.0000 (6/6 正確) |

### 優化狀態

| 分類器 | MIP Gap | 狀態 |
|--------|---------|------|
| H1 (Class 3 vs {1,2}) | 0.00% | ✅ 最優解 |
| H2 (Class {2,3} vs 1) | 0.00% | ✅ 最優解 |

**重要觀察**:
- 兩次測試都達到最優解
- 預測準確率完全相同
- 證明 Test3 策略在小型資料集上的穩定性

---

## 模型權重比較

### Car_Evaluation

**H1 權重** (兩次完全相同):
```
w = [-2, -1, 0, 1, 2, 4]
b = -17.0
```

**H2 權重** (兩次完全相同):
```
w = [-1, -1, 0, 2, 1, 3]
b = -12.0
```

### New_Thyroid

**H1 權重** (兩次完全相同):
```
w = [-0.0431, -2.9802, 0, 0, 0.9869]
b = 14.6991
```

**H2 權重** (兩次完全相同):
```
w = [-0.1227, 0.9053, 2.2947, 1.6417, 0.2681]
b = -6.1326
```

---

## 結論

### ✅ 完美重現性

1. **準確率**: 兩個資料集的訓練和測試準確率**完全一致**（精確到小數點後四位）

2. **模型權重**: 學習到的權重和偏置項**完全相同**

3. **優化行為**:
   - New_Thyroid: 兩次都達到最優解
   - Car_Evaluation: 兩次都在時間限制內未收斂，但得到相同的預測性能

### 關鍵發現

1. **Test3 策略是確定性的**: 給定相同的資料和參數，產生完全相同的結果

2. **次優解的穩定性**: Car_Evaluation 的 H2 雖然未達到最優（MIP Gap 57%），但：
   - 預測準確率完全可重現
   - 這表明找到的次優解在實際預測中是穩定的
   - MIP Gap 不一定直接影響預測性能

3. **收斂 vs 性能**:
   - 最優收斂（New_Thyroid）→ 完美重現 ✅
   - 未收斂但停在時限（Car_Evaluation）→ 仍然完美重現 ✅

### 建議

1. **對於 Car_Evaluation**:
   - 如果需要降低 MIP Gap，可以增加 time_limit（如 3600 秒）
   - 但目前的預測性能（84.39%）已經穩定且可重現

2. **對於 New_Thyroid**:
   - 結果已經達到最優，無需調整

3. **驗證完成**: Test3 策略的重現性已得到充分驗證 ✅

---

## 測試環境

- 日期: 2026-02-11
- 優化器: Gurobi 13.0.1
- 時間限制: 1800 秒/分類器
- MIP Gap 容忍度: 1e-4 (0.01%)
